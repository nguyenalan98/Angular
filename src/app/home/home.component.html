<body style="width:85%;margin-left:7.5%;">
    <br>
    <h1 style="text-align:center;">Available Events</h1><br>
    <div style="text-align:center;">
        <div>
            <div class="card-columns" style="margin:10px;">
                <div class="card" style="width:27vw;margin:10px;border:2px black solid;" *ngFor="let item of events;index as i;">
                    <img src="https://d3vhc53cl8e8km.cloudfront.net/hello-staging/wp-content/uploads/2017/12/22223742/Events-1200x630.jpg" style="width:100%">
                    <div class="card-body">
                        <p class="card-text">{{item.name}}</p>
                        <p class="card-text">{{item.date}}</p>
                        <p class="card-text">{{item.time}}</p>
                        <p class="card-text">{{item.duration}}</p>
                        <p class="card-text">{{item.price | currency}}</p>
                        
                        <button *ngIf="user" type="button" class="btn btn-primary" data-toggle="modal" data-target="#emodal" (click)="setID(i)">
                            Buy Ticket 
                          </button>
                          
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

<div class="modal fade" id="emodal" tabindex="-1" role="dialog" aria-labelledby="emodal" aria-hidden="true">
    <div class="modal-dialog" role="document" id="backdrop">
        <div class="modal-content">
            <div class="modal-header">

                <div class="container register-container">
                    <div class="row">
                        <div class="col-md-6 register-form-1" style="padding:auto;margin:auto;text-align:center;">
                            <h3>How many tickets would you like for {{events[eventID].name}}</h3>
                            <form #form="ngForm" (ngSubmit)="form.valid && registerTicket(form)">

                                <div class="form-group">
                                    <input type="number" name="ticketAmt" [(ngModel)]="model.ticketAmt" id="ticketAmt"
                                        class="form-control" placeholder="enter number of tickets" required />
                                </div>
                                <div class="form-group">
                                    <input type="submit" class="btnSubmit" />
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
